generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model PedidoLog {
  id           String   @id @default(uuid()) @db.Uuid
  codigo       String?  @db.Text
  payload      Json
  operacao     String   @db.Text
  status       String   @db.Text
  dataOperacao DateTime @map("data_operacao") @db.Timestamptz(6)

  @@map("pedidos_log")
}

model EntidadeLog {
  id           String   @id @default(uuid()) @db.Uuid
  codigo       String?  @db.Text
  payload      Json
  operacao     String   @db.Text
  status       String   @db.Text
  dataOperacao DateTime @map("data_operacao") @db.Timestamptz(6)

  @@map("entidades_log")
}

model ProdutoLog {
  id           String   @id @default(uuid()) @db.Uuid
  codigo       String?  @db.Text
  payload      Json
  operacao     String   @db.Text
  status       String   @db.Text
  dataOperacao DateTime @map("data_operacao") @db.Timestamptz(6)

  @@map("produtos_log")
}

model OrdemServicoLog {
  id           String   @id @default(uuid()) @db.Uuid
  codigo       String?  @db.Text
  payload      Json
  operacao     String   @db.Text
  status       String   @db.Text
  dataOperacao DateTime @map("data_operacao") @db.Timestamptz(6)

  @@map("ordens_servico_log")
}

model HealthLog {
  id           String   @id @default(uuid()) @db.Uuid
  codigo       String?  @db.Text
  payload      Json
  operacao     String   @db.Text
  status       String   @db.Text
  dataOperacao DateTime @map("data_operacao") @db.Timestamptz(6)

  @@map("health_log")
}

model ApiLog {
  id           String   @id @default(uuid()) @db.Uuid
  recurso      String   @db.Text
  rota         String?  @db.Text
  metodo       String?  @db.Text
  codigo       String?  @db.Text
  payload      Json
  operacao     String   @db.Text
  status       String   @db.Text
  dataOperacao DateTime @map("data_operacao") @db.Timestamptz(6)

  @@map("api_logs")
}
